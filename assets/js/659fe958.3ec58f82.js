(self.webpackChunk_react_mol_docs=self.webpackChunk_react_mol_docs||[]).push([[690],{53059:function(t,e,n){"use strict";n.d(e,{S:function(){return T}});var r=n(22114),o=n(98621),a=n.n(o),s=(n(7665),n(2784));n(66162);const i={Row:r.R,Label:r.L,Portal:r.P,Overlay:r.O,String:r.a6,Number:r.a7,Boolean:r.a8,Select:r.a9,Vector:r.a,InnerLabel:r.aa};var c=n(28308),l=n(28316),u=n(66799),p=n(91997);const d=/^--/;function m(t,e){return null==e||"boolean"==typeof e||""===e?"":"number"!=typeof e||0===e||d.test(t)||h.hasOwnProperty(t)&&h[t]?(""+e).trim():e+"px"}const f={};let h={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};const b=["Webkit","Ms","Moz","O"];h=Object.keys(h).reduce(((t,e)=>(b.forEach((n=>t[((t,e)=>t+e.charAt(0).toUpperCase()+e.substring(1))(n,e)]=t[e])),t)),h);const g=/^(matrix|translate|scale|rotate|skew)/,y=/^(translate)/,v=/^(rotate|skew)/,x=(t,e)=>u.is.num(t)&&0!==t?t+e:t,O=(t,e)=>u.is.arr(t)?t.every((t=>O(t,e))):u.is.num(t)?t===e:parseFloat(t)===e;class w extends p.rS{constructor({x:t,y:e,z:n,...r}){const o=[],a=[];(t||e||n)&&(o.push([t||0,e||0,n||0]),a.push((t=>[`translate3d(${t.map((t=>x(t,"px"))).join(",")})`,O(t,0)]))),(0,u.rU)(r,((t,e)=>{if("transform"===e)o.push([t||""]),a.push((t=>[t,""===t]));else if(g.test(e)){if(delete r[e],u.is.und(t))return;const n=y.test(e)?"px":v.test(e)?"deg":"";o.push((0,u.qo)(t)),a.push("rotate3d"===e?([t,e,r,o])=>[`rotate3d(${t},${e},${r},${x(o,n)})`,O(o,0)]:t=>[`${e}(${t.map((t=>x(t,n))).join(",")})`,O(t,e.startsWith("scale")?1:0)])}})),o.length&&(r.transform=new k(o,a)),super(r)}}class k extends u.B0{constructor(t,e){super(),this.inputs=t,this.transforms=e,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let t="",e=!0;return(0,u.S6)(this.inputs,((n,r)=>{const o=(0,u.je)(n[0]),[a,s]=this.transforms[r](u.is.arr(o)?o:n.map(u.je));t+=" "+a,e=e&&s})),e?"none":t}observerAdded(t){1==t&&(0,u.S6)(this.inputs,(t=>(0,u.S6)(t,(t=>(0,u.j$)(t)&&(0,u.UI)(t,this)))))}observerRemoved(t){0==t&&(0,u.S6)(this.inputs,(t=>(0,u.S6)(t,(t=>(0,u.j$)(t)&&(0,u.iL)(t,this)))))}eventObserved(t){"change"==t.type&&(this._value=null),(0,u.k0)(this,t)}}c.OH.assign({batchedUpdates:l.unstable_batchedUpdates,createStringInterpolator:u.qS,colors:u.O9});const S=(0,p.Ld)(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],{applyAnimatedValues:function(t,e){if(!t.nodeType||!t.setAttribute)return!1;const n="filter"===t.nodeName||t.parentNode&&"filter"===t.parentNode.nodeName,{style:r,children:o,scrollTop:a,scrollLeft:s,...i}=e,c=Object.values(i),l=Object.keys(i).map((e=>n||t.hasAttribute(e)?e:f[e]||(f[e]=e.replace(/([A-Z])/g,(t=>"-"+t.toLowerCase())))));void 0!==o&&(t.textContent=o);for(let u in r)if(r.hasOwnProperty(u)){const e=m(u,r[u]);"float"===u?u="cssFloat":d.test(u)?t.style.setProperty(u,e):t.style[u]=e}l.forEach(((e,n)=>{t.setAttribute(e,c[n])})),void 0!==a&&(t.scrollTop=a),void 0!==s&&(t.scrollLeft=s)},createAnimatedStyle:t=>new w(t),getComponentProps:({scrollTop:t,scrollLeft:e,...n})=>n}).animated;function j(){return(j=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function P(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function C(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?M(Object(n),!0).forEach((function(e){P(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const _=(0,r.s)("canvas",{height:80,width:"100%",cursor:"crosshair",display:"block",$draggable:""});const E=S((0,r.s)("div",{position:"relative",top:-2,backgroundColor:"$accent2",width:"100%",height:2,opacity:.2,borderRadius:1,transition:"opacity 350ms ease",transformOrigin:"left"}));function q(){const{displayValue:t,value:e,onUpdate:n,settings:o}=(0,r.u)(),i=(0,s.useRef)(t),l=(0,r.d)("colors","highlight3"),u=(0,r.d)("colors","elevation2"),p=(0,r.d)("colors","highlight1"),[d,m]=(0,s.useMemo)((()=>[a()(p).setAlpha(.4).toRgbString(),a()(p).setAlpha(.1).toRgbString()]),[p]),{tension:f,friction:h,mass:b=1}=t,{tension:g,friction:y}=o,[v,x]=(0,c.q_)((()=>({scaleX:.5,opacity:.2,immediate:t=>"opacity"===t}))),O=(0,r.e)((({movement:[t,r],memo:o=[f,h]})=>(n(C(C({},e),{},{tension:o[0]-Math.round(t)*g.step,friction:o[1]-Math.round(r/4)*y.step})),o))),w=(0,s.useMemo)((()=>(0,r.U)((()=>{const{tension:t,friction:e,mass:n}=i.current;x.start({from:{scaleX:0,opacity:.9},to:[{scaleX:.5},{opacity:.2}],config:{friction:e,tension:t,mass:n}})}),250)),[x]),k=(0,s.useCallback)(((t,e)=>{const{tension:n,friction:r,mass:o}=i.current,{width:a,height:s}=t,c=function(t,e,n=1){const r=Math.sqrt(t/n)/1e3,o=e/(2*Math.sqrt(t*n)),a=r*Math.sqrt(1-o*o),s=r*Math.sqrt(o*o-1);return o<1?t=>1-Math.exp(-o*r*t)*((o*r*1-0)/a*Math.sin(a*t)+1*Math.cos(a*t)):1===o?t=>1-Math.exp(-r*t)*(1+(1*r-0)*t):t=>1-Math.exp(-o*r*t)*((o*r*1-0)*Math.sinh(s*t)+1*s*Math.cosh(s*t))/s}(n,r,o),p=new Path2D;for(let i=0;i<a;i++){const t=c(8*i)*s/2;p.lineTo(i,s-t)}e.clearRect(0,0,a,s);const f=new Path2D(p);f.lineTo(a-1,s),f.lineTo(0,s);const h=e.createLinearGradient(0,s/2,0,s);h.addColorStop(0,d),h.addColorStop(1,m),e.fillStyle=h,e.fill(f),e.strokeStyle=u,e.lineJoin="round",e.lineWidth=14,e.stroke(p),e.strokeStyle=l,e.lineWidth=2,e.stroke(p)}),[l,u,d,m]),[S,P]=(0,r.G)(k);return(0,s.useEffect)((()=>{i.current={tension:f,friction:h,mass:b},k(S.current,P.current),w()}),[k,w,f,h,b,S,P]),s.createElement(s.Fragment,null,s.createElement(_,j({},O(),{ref:S})),s.createElement(E,{style:v}))}const{Row:I,Label:A,Vector:B}=i;function D(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}const R={min:1,step:1},L={min:1,step:.5},$={min:.1,step:.1},z={tension:100,friction:30,mass:1},T=(0,r.ad)({normalize:(t={})=>{const e="value"in t?t:{value:t},{value:n}=e,o=D(e,["value"]),a={tension:C(C({},R),o.tension),friction:C(C({},L),o.friction),mass:C(C({},$),o.mass)},{value:s,settings:i}=(0,r.aj)(C(C({},z),n),a);return{value:s,settings:i}},sanitize:(t,e,n)=>(0,r.ah)(t,e,n),component:function(){const{label:t,displayValue:e,onUpdate:n,settings:o}=(0,r.u)();return s.createElement(s.Fragment,null,s.createElement(I,null,s.createElement(q,null)),s.createElement(I,{input:!0},s.createElement(A,null,t),s.createElement(B,{value:e,settings:o,onUpdate:n})))}})},55238:function(t,e,n){"use strict";n.r(e),n.d(e,{frontMatter:function(){return h},contentTitle:function(){return b},metadata:function(){return g},toc:function(){return y},from:function(){return v},to:function(){return x},default:function(){return w}});var r=n(7560),o=n(98283),a=n(56470),s=n(77162),i=n.n(s),c=(n(2784),n(30876)),l=n(18400),u=n(53059),p=n(43921),d=n(1581),m=n(1511),f=["components"],h={sidebar_position:1,sidebar_label:"Bounds"},b=void 0,g={unversionedId:"animated/Bounds",id:"animated/Bounds",isDocsHomePage:!1,title:"Bounds",description:"export const to = async (next) => {",source:"@site/examples/animated/Bounds.mdx",sourceDirName:"animated",slug:"/animated/Bounds",permalink:"/react-mol/examples/animated/Bounds",version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,sidebar_label:"Bounds"},sidebar:"defaultSidebar",previous:{title:"Basic Examples",permalink:"/react-mol/examples/Basic"},next:{title:"Pieces",permalink:"/react-mol/examples/animated/Pieces"}},y=[],v={x:0},x=function(){var t=(0,a.Z)(i().mark((function t(e){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,e({x:1});case 3:return t.next=5,e({x:0});case 5:t.next=0;break;case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),O={toc:y,from:v};function w(t){var e,n=t.components,a=(0,o.Z)(t,f);return(0,c.kt)("wrapper",(0,r.Z)({},O,a,{components:n,mdxType:"MDXLayout"}),(0,c.kt)("pre",null,(0,c.kt)("code",{parentName:"pre",className:"language-js"},"const from = { x: 0 };\nconst to = async (next) => {\n    while (1) {\n        await next({ x: 1 })\n        await next({ x: 0 })\n    }\n};\n")),(0,c.kt)(l.B9,(0,r.Z)({},((e={Instanced:m.pY,animated:d.animated,_Atom:m.hg,from:v,to:x}).animated=d.animated,e.useSprings=d.useSprings,e),(0,p.M4)({a:{value:1,min:0,max:5},s:{value:1,min:0,max:5},w:{value:10,min:0,max:50},h:{value:10,min:0,max:50},config:(0,u.S)({mass:10,tension:750,friction:25})}),{mdxType:"Demo"}),'function Bounds ({count: c=30, delay: d=75}) {\n  const Atom = animated(_Atom);\n  const {PI, exp, cos, sin, sqrt} = Math;\n  return (\n    <Canvas>\n    <Instanced count={c**2}>\n        <cylinderGeometry attach="geometry" args={[1, 1, 10, 6]}/>\n        <meshPhysicalMaterial\n            attach="material"\n            color="darksalmon"\n            roughness={0.2}\n            metalness={1.0}/>\n        <group scale={[w/c, h / 10, w/c]}\n            rotation-x={PI * 2 / 30}\n            position-x={ -w * s / 2 }\n            position-z={ -w * s / 4 / sqrt(3) * 3 }>\n            {useSprings(c**2, (i) => ({\n                from, to, config,\n                delay: sqrt((i / c * 2 - c)**2 + (i % c * 2 - c)**2) * d\n            }))[0].map(({ x }, i) => (\n                <Atom\n                    key={\'0\' + i}\n                    position-x={~~(i % c) * s + (~~(i/c)%2? 1: 0) * s / 2}\n                    position-z={~~(i / c) * s * 3 / 2 / sqrt(3)}\n                    scale-x={1/sqrt(3)}\n                    scale-z={1/sqrt(3)}\n                    scale-y={x.to(v => (v + .5) * a / 8)}/>\n            ))}\n        </group>\n    </Instanced>\n    </Canvas>\n  )\n}\n'))}w.isMDXComponent=!0}}]);