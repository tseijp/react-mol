{"version":3,"sources":["docs/utils/serviceWorker.ts","docs/mols.tsx","docs/index.tsx","src/utils.ts","src/Mol.tsx","src/useMol.ts","src/Render.tsx","src/Poly.tsx","src/index.tsx"],"names":["Boolean","window","location","hostname","match","H2O","CH4","CH3OH","CH3COOH","double","CH3COCH3","Polyethylene","Poly","poly","children","props","rotation","Math","PI","Polypropylene","angle","About","Basic","App","style","position","width","height","top","left","zIndex","gl","alpha","antialias","logarithmicDepthBuffer","camera","fov","intensity","color","attach","args","fallback","Object","keys","MOLS","map","key","userSelect","fontSize","display","onClick","href","alt","src","Home","rand","mul","random","Root","path","component","exact","entries","Val","to","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message","mergeVec3","rate","vec","j","r","i","reduce","a","b","scaleVec3","vector","THREE","length","eulerVec3","base","axis","q","setFromUnitVectors","e","setFromQuaternion","toArray","slice","calcPosition","child","parent","dis","rad","sqrt","phi","cos","sin","direction","normalize","temp","p","setFromEuler","applyQuaternion","multiply","setLength","Array","fill","calcRotation","atoms","atom","bones","get","parentProps","distance","scale","is","arr","isArray","obj","prototype","toString","call","fun","str","num","und","nul","set","Set","Map","equ","Group","useMol","Merge","Mol","renderConfig","depth","element","useAtom","state","useMemo","Children","React","cloneElement","useEffect","Render","group","useRef","bone","_a","_b","_c","useFrame","forEach","updateMatrix","current","setColorAt","setColorName","setMatrixAt","matrix","instanceMatrix","needsUpdate","ref","H","C","O"],"mappings":"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","file":"static/js/main.f21067cb.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react'\r\nimport {C, H, O, Poly} from '../src'\r\nexport const H2O =()=> <O><H/><H/></O>\r\nexport const CH4 =()=> <C><H/><H/><H/><H/></C>\r\nexport const CH3OH =()=>\r\n    <C>\r\n        <H/><H/><H/>\r\n        <O><H/></O>\r\n    </C>\r\nexport const CH3COOH =()=>\r\n    <C>\r\n        <C><H/><H/><H/></C>\r\n        <O><H/></O>\r\n        <O double/>\r\n    </C>\r\nexport const CH3COCH3 =()=>\r\n    <C>\r\n        <H/><H/><H/>\r\n        <C>\r\n            <C><H/><H/><H/></C>\r\n            <O double/>\r\n        </C>\r\n    </C>\r\nexport const Polyethylene =()=>\r\n    <H>\r\n        <Poly poly={3}>\r\n        {(children,props) =>\r\n            <C {...props}>\r\n                <C rotation={[0,Math.PI,0]}>\r\n                    {children||<H/>}\r\n                    <H/><H/>\r\n                </C>\r\n                <H rotation={[0,Math.PI,0]}/>\r\n                <H rotation={[0,Math.PI,0]}/>\r\n            </C>\r\n        }\r\n        </Poly>\r\n    </H>\r\nexport const Polypropylene =()=>\r\n    <H>\r\n        <Poly poly={3}>\r\n        {(children, props) =>\r\n            <C {...props} angle={Math.PI}>\r\n                <C>\r\n                    {children||<H/>}\r\n                    <C><H/><H/><H/></C>\r\n                    <H/>\r\n                </C>\r\n                <H/><H/>\r\n            </C>\r\n        }\r\n        </Poly>\r\n    </H>\r\n","import React, {Suspense} from 'react'\nimport ReactDOM from 'react-dom'\nimport {Canvas} from 'react-three-fiber'\nimport {unregister}  from './utils'\nimport {OrbitControls} from 'drei'\nimport {HelmetProvider} from 'react-helmet-async'\nimport {BrowserRouter, Route, Redirect, Switch} from 'react-router-dom'\nimport {C, H, Poly} from '../src'\nimport * as MOLS from './mols'\nconst About = () => <>TODO</>\nconst Basic = () => <>TODO</>\n\nconst App:React.FC = ({children}) => {\n    return (\n        <>\n            <Canvas\n                style={{position:\"absolute\", width:'100%', height: '100%', top:0, left:0, zIndex:-1}}\n                gl={{ alpha: true, antialias: false, logarithmicDepthBuffer: true }}\n                camera={{ fov: 75, position: [0, 0, 5] }}>\n                <ambientLight intensity={1} />\n                <pointLight position={[100, 100, 100]} intensity={2.2} />\n                <pointLight position={[-100, -100, -100]} intensity={5} color=\"red\" />\n                <OrbitControls />\n                <mesh position={[0, 0, -10]}>\n                    <circleBufferGeometry attach=\"geometry\" args={[8, 64]} />\n                    <meshBasicMaterial attach=\"material\" color=\"lightpink\" />\n                </mesh>\n                <Suspense fallback={null}>\n                    {children}\n                </Suspense>\n            </Canvas>\n            {Object.keys(MOLS).map(key =>\n                <div key={key} style={{userSelect:\"none\",fontSize:\"1.5rem\",display:\"table\"}}\n                    onClick={()=>void (window.location.href = key)}>{key}</div>\n            )}\n            <div style={{display:\"inline-block\"}}>\n                <a href=\"https://github.com/tseijp/react-mol\">\n                    <img alt=\"license MIT\" src=\"https://img.shields.io/badge/license-MIT-green.svg\"/></a>\n                <a href=\"https://www.npmjs.com/package/react-mol\">\n                    <img src=\"https://badge.fury.io/js/react-mol.svg\" alt=\"npm version\" height=\"18\"/></a>\n                <br/>\n                <a href=\"https://twitter.com/intent/tweet?url=https://tsei.jp/rmol/&text=🍡A molecular chemistry based simulation library\" >\n                    <img alt=\"tweet\" src=\"https://img.shields.io/twitter/url?style=social&url=https%3A%2F%2Ftwitter.com%2Ftseijp\"/></a>\n                <a href=\"https://github.com/tseijp/react-mol\">\n                    <img alt=\"GitHub watchers\" src=\"https://img.shields.io/github/watchers/tseijp/react-mol?style=social\"/></a>\n            </div>\n        </>\n    )\n}\nexport const Home =({rand=(mul=Math.PI*2)=>Math.random()*mul})=>\n    <App>\n        <H>\n            <Poly poly={250}>\n            {(children,props) =>\n                <C {...props} angle={rand()}>\n                    <C angle={rand()}>\n                        {children||<H/>}\n                        <H/>\n                        <C angle={rand()}><H/><H/><H/></C>\n                    </C>\n                    <H/>\n                    <H/>\n                </C>\n            }\n            </Poly>\n        </H>\n    </App>\n\nconst Root = () => (\n    <HelmetProvider>\n            <BrowserRouter>\n                <Switch>\n                    <Route path=\"/\"      component={Home} exact/>\n                    <Route path=\"/about\" component={About} exact/>\n                    <Route path=\"/basic\" component={Basic} exact/>\n                    {Object.entries(MOLS).map(([key, Val]) =>\n                    <Route key={key} path={\"/\"+key} component={()=><App><Val/></App>} /> )}\n                    <Redirect to='/' />\n                </Switch>\n            </BrowserRouter>\n    </HelmetProvider>\n)\n\nReactDOM.render(\n    <Root />,\n    document.getElementById('root')\n);\n\nunregister();\n","import {atom} from 'jotai'\r\nimport {MolProps,Vec3} from './types'\r\nimport * as THREE from 'three'\r\n// ************************* 🍡 bone 🍡 ************************* //\r\nexport function mergeVec3(rate:number[], ...vec:Vec3[]) {\r\n    return [0,1,2].map(j=>\r\n        rate.map((r,i) => r*vec[i][j]).reduce((a,b) => a+b)\r\n    ) as Vec3\r\n}\r\nexport function scaleVec3(vec:Vec3=[0,0,0]) {\r\n    const vector = new THREE.Vector3(...vec)\r\n    return [1, vector.length(), 1] as Vec3\r\n}\r\nexport function eulerVec3(vec:Vec3=[0,0,0]) {\r\n    const base = new THREE.Vector3(0,1,0)\r\n    const axis = new THREE.Vector3(...vec)\r\n    const q = new THREE.Quaternion().setFromUnitVectors(base, axis);\r\n    const e = new THREE.Euler().setFromQuaternion(q)\r\n    return e.toArray().slice(0,3) as Vec3\r\n}\r\n\r\n// ************************* 🍡 atom 🍡 ************************* //\r\nexport function calcPosition (child:MolProps, parent:MolProps, key:number): Vec3\r\nexport function calcPosition (child:any, parent:any, key=0) {\r\n    const dis = 1 //TODO calcDistance\r\n    const rad = Math.sqrt(2/3)\r\n    const phi = key* Math.PI* 2/3 + (parent.angle || 0)\r\n    const vec = [rad*Math.cos(phi), 1/Math.sqrt(3), rad*Math.sin(phi)]\r\n    const base = new THREE.Vector3(0,1,0)\r\n    const axis = new THREE.Vector3(...(parent.direction||[0,1,0])).normalize()\r\n    const temp = new THREE.Vector3(...(key<3? vec: [0,-1,0])).normalize()\r\n    const e = new THREE.Euler(...(child.rotation||[0,0,0]))\r\n    const q = new THREE.Quaternion().setFromUnitVectors(base, axis)\r\n    const p = new THREE.Quaternion().setFromEuler(e)\r\n    temp.applyQuaternion(q.multiply(p))\r\n    temp.setLength(dis)\r\n    return mergeVec3(Array(4).fill(1),\r\n        temp.toArray() as Vec3,\r\n        child.position ||[0,0,0],\r\n        parent.position||[0,0,0],\r\n        child.double\r\n            ? calcPosition({...child,double:false}, parent, key+2)\r\n            : [0,0,0]\r\n    )\r\n}\r\nexport function calcRotation (child:Vec3, parent:Vec3) {\r\n    return mergeVec3([1,-1], child, parent)\r\n}\r\n\r\n// ************************* 👻 jotai 👻 ************************* //\r\nexport const atoms = atom<MolProps[]>([])\r\nexport const bones = atom((get) => get(atoms).map(({\r\n    position:child=[0,0,0],\r\n    parentProps:{position:parent}={},\r\n    color\r\n}) => {\r\n    const position = mergeVec3([.5,.5], child, parent||child)\r\n    const distance = mergeVec3([ 1,-1], child, parent||child)\r\n    return {\r\n        position, color,\r\n        rotation: eulerVec3(distance),\r\n        scale   : scaleVec3(distance),\r\n    }\r\n}))\r\n\r\n// ************************* 🍭 helpers 🍭 ************************* //\r\n// * This function is fork of react-spring\r\n// * Code : https://github.com/pmndrs/react-spring/blob/master/src/shared/helpers.ts\r\n// ************************* *************** ************************* //\r\nexport const is = {\r\n    arr: Array.isArray,\r\n    obj: (a: unknown): a is object    => Object.prototype.toString.call(a) === '[object Object]',\r\n    fun: (a: unknown): a is Function  => typeof a === 'function',\r\n    str: (a: unknown): a is string    => typeof a === 'string',\r\n    num: (a: unknown): a is number    => typeof a === 'number',\r\n    und: (a: unknown): a is undefined => a === void 0,\r\n    nul: (a: unknown): a is null      => a === null,\r\n    set: (a: unknown): a is Set<any>  => a instanceof Set,\r\n    map: (a: unknown): a is Map<any, any> => a instanceof Map,\r\n    equ(a: any, b: any) {\r\n    if (typeof a !== typeof b) return false\r\n        if (is.str(a) || is.num(a)) return a === b\r\n        if (is.obj(a) &&\r\n            is.obj(b) &&\r\n            Object.keys(a).length + Object.keys(b).length === 0)\r\n            return true\r\n        let i\r\n        for (i in a) if (!(i in b))     return false\r\n        for (i in b) if (a[i] !== b[i]) return false\r\n        return is.und(i) ? a === b : true\r\n    },\r\n}\r\n\r\nexport function merge(target: any, lowercase: boolean = true) {\r\n  return (object: object) =>\r\n    (is.arr(object) ? object : Object.keys(object)).reduce(\r\n        (acc: any, element) => {\r\n            const key = lowercase\r\n              ? element[0].toLowerCase() + element.substring(1)\r\n              : element\r\n            acc[key] = target(key)\r\n            return acc\r\n        },\r\n        target\r\n    )\r\n}\r\n","import React from 'react'\r\nimport {Provider} from 'jotai'\r\nimport {MolProps} from './types'\r\nimport {Render} from './Render'\r\nimport {useMol} from './useMol'\r\n\r\nconst Group = (props:any) => <bone {...useMol(props)}/>\r\nconst Merge = (props:any) => <bone {...useMol(props)}/>//TODO\r\n\r\nexport function Mol <S extends object> (props: unknown & MolProps): any//JSX.Element | null // TODO\r\nexport function Mol ({renderConfig={}, depth=0, ...props}:any) {\r\n    return depth===0\r\n        ?   <Provider>\r\n                <Render {...renderConfig}>\r\n                    <Group {...props} position={props.position||[0,0,0]}/>\r\n                </Render>\r\n            </Provider>\r\n        : props.element\r\n            ? <Group {...props}/>\r\n            : <Merge {...props}/>\r\n}\r\nexport default Mol\r\n","import React, {Children, useMemo} from 'react'\r\nimport {useAtom} from 'jotai'\r\nimport {MolProps} from './types'\r\nimport {atoms, calcPosition, calcRotation} from './utils'\r\n\r\nexport function useMol <S extends object> (\r\n    props:MolProps,\r\n) : MolProps\r\n\r\nexport function useMol(props: any) {\r\n    const [,set] = useAtom(atoms)\r\n    const state = useMemo<MolProps|null>(() => {\r\n        const children = Children.map(props.children, (child:any, key) => {\r\n            const position = calcPosition(child.props, props, key)\r\n            const direction = calcRotation(position, props.position)\r\n            return child && React.cloneElement(child, {\r\n                parentProps: props, position, direction,\r\n                scale: child.props.scale || props.scale,\r\n                color: child.props.color || props.color,\r\n                depth: (props.depth||0) + 1\r\n            })\r\n        })\r\n        return {...props, children}\r\n    }, [props])\r\n    React.useEffect(() => {\r\n        if (state)\r\n            set(p => [...p, state])\r\n    }, [set, state])\r\n    return state\r\n}\r\n","import React, {\r\n    ReactNode, useMemo, useRef\r\n} from 'react'\r\nimport {useFrame} from 'react-three-fiber'\r\nimport * as THREE from 'three'\r\nimport {useAtom} from 'jotai'\r\nimport {atoms, bones, mergeVec3} from './utils'\r\nconst MAX_LENGTH = 1000\r\nexport function Render (props: Partial<{\r\n    children: ReactNode\r\n}>) : JSX.Element\r\n\r\nexport function Render ({children, ...props}:any) {\r\n    const group = useRef<any>(null)\r\n    const atom = useRef<any>(null)\r\n    const bone = useRef<any>(null)\r\n    const [a] = useAtom(atoms)\r\n    const [b] = useAtom(bones)\r\n    const _a = useMemo(() => new THREE.Object3D(), [])\r\n    const _b = useMemo(() => new THREE.Object3D(), [])\r\n    const _c = useMemo(() => new THREE.Color()   , [])\r\n    useFrame(() => {\r\n        a.forEach(({position=[0,0,0], scale=[1,1,1], color=\"white\"}, i) => {\r\n            _a.position.set(...position)\r\n            _a.scale.set(...scale)\r\n            _a.updateMatrix()\r\n            atom.current.setColorAt(i, _c.setColorName(color));\r\n            atom.current.setMatrixAt(i, _a.matrix)\r\n        })\r\n        b.forEach(({position, rotation, scale, color=\"white\"}, i) => {\r\n            _b.position.set(...position)\r\n            _b.rotation.set(...rotation)\r\n            _b.scale.set(...scale)\r\n            _b.updateMatrix()\r\n            bone.current.setColorAt(i, _c.setColorName(color));\r\n            bone.current.setMatrixAt(i, _b.matrix)\r\n        })\r\n        group.current.position.set(...mergeVec3([-.5,-.5],\r\n            a[0]?.position||[0,0,0],\r\n            a[a.length]?.position||[0,0,0])\r\n        )\r\n        atom.current.instanceMatrix.needsUpdate = true\r\n    })\r\n    return (\r\n        <group {...props}>\r\n            <group ref={group}>\r\n                <instancedMesh ref={atom} args={[null,null,MAX_LENGTH] as [any,any,number]}>\r\n                    <sphereBufferGeometry attach=\"geometry\" args={[1, 32, 32]} />\r\n                    <meshPhongMaterial    attach=\"material\" color={0xffffff} />\r\n                </instancedMesh>\r\n                <instancedMesh ref={bone} args={[null,null,MAX_LENGTH] as [any,any,number]}>\r\n                    <cylinderBufferGeometry attach=\"geometry\" args={[.05, .05, 1, 10]} />\r\n                    <meshPhongMaterial      attach=\"material\" color={0xffffff} />\r\n                </instancedMesh>\r\n                {children}\r\n            </group>\r\n        </group>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport {MolProps} from './types'\r\nexport function Poly (props: MolProps & Partial<{\r\n    children: null|((child:JSX.Element, poly:number) => JSX.Element),\r\n    poly: number\r\n}>): null|JSX.Element\r\nexport function Poly ({children,poly=0,...props}:any) {\r\n    return poly>-1 && children(poly>0 && <Poly poly={poly-1} children={children}/>, props, poly)\r\n}\r\n","import React from 'react'\r\nimport {MolProps as P} from './types'\r\nimport M from './Mol'\r\nexport {M}\r\n//  ************************* REACT-MOL ************************* //\r\nexport * from './Mol'\r\nexport * from './Poly'\r\nexport * from './Render'\r\nexport * from './useMol'\r\nexport * from './utils'\r\nexport * from './types'\r\n//  ************************* EXAMPLE ************************* //\r\nexport const H  =(p:P)=> <M {...p} scale={[.2,.2,.2]} color=\"white\"/>\r\nexport const C  =(p:P)=> <M {...p} scale={[.3,.3,.3]} color=\"black\"/>\r\nexport const O  =(p:P)=> <M {...p} scale={[.5,.5,.5]} color=\"red\"/>\r\nexport const OH =(p:P)=> <O {...p}><H/></O>\r\n"],"sourceRoot":""}