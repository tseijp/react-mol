{"version":3,"sources":["docs/utils/serviceWorker.ts","docs/Hel.tsx","docs/Mol.tsx","docs/Flow.tsx","docs/Plant.tsx","docs/App.tsx","docs/Basic.tsx","docs/index.tsx","src/Atom.tsx","src/utils.ts","src/Render.tsx","src/index.tsx"],"names":["Boolean","window","location","hostname","match","Archimedes","n","next","position","Fermat","Power","H2O","CH4","CH3OH","angle","Math","PI","CH3COOH","double","Polyethylene","children","Polypropylene","i","Random","rand","mul","random","H2O2","recursion","CH42","CH3OH2","CH3COOH2","Polyethylene2","Array","fill","map","_","key","Polypropylene2","Random2","sin","cos","max","m","a","Points","count","c","colors","useMemo","niceColors","floor","Render","attach","args","t","x","z","r","scale","color","Boxes","ref","useRef","now","useFrame","delta","current","rotation","y","Spheres","xy","useMove","console","log","domTarget","s","Particles","f","Dodecas","size","Plant","Link","path","name","onClick","href","Button","loc","alt","src","INDEX","Object","keys","MOL","h","HEL","FLOW","p","PLANT","App","paths","pathname","split","filter","v","style","width","height","top","left","zIndex","pixelRatio","devicePixelRatio","onCreated","gl","setClearColor","alpha","antialias","logarithmicDepthBuffer","camera","fov","intensity","userSelect","fontSize","display","slice","charSet","content","rel","Basic","React","Atom","About","Root","entries","Mol","k","V","component","exact","to","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message","uuid","Hierarchy","forwardRef","props","calc","states","useContext","useState","index","depth","THREE","set","group","useEffect","updateMatrixWorld","useImperativeHandle","state","Children","child","cloneElement","Recursion","grandren","length","geometry","cut","material","base","axis","euler","quat1","mergeVec3","rate","vec","j","reduce","b","eulerVec3","_axis","_base","normalize","setFromUnitVectors","setFromQuaternion","toArray","mergedGeometry","arr","makeTranslation","sph","cyl","applyMatrix4","BufferGeometryUtils","mergeBufferGeometries","createContext","mesh","value","values","forEach","setColorAt","setMatrixAt","matrixWorld","instanceMatrix","needsUpdate","Provider","rad","sqrt","H","element","C","O","CH3","Poly","distance","pos","phi","dis","rot","Hel","Flow","fun"],"mappings":"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","file":"static/js/main.219287b7.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react'\r\nimport {Poly, Hel} from '../src'\r\n\r\nexport const Archimedes =()=> (\r\n    <Hel>\r\n        <Poly n={100}>\r\n            {next =>\r\n                <Hel position={[1,1,1]}>\r\n                    {next}\r\n                </Hel>\r\n            }\r\n        </Poly>\r\n    </Hel>\r\n)\r\nexport const Fermat =()=> (\r\n    <Hel>\r\n    </Hel>\r\n)\r\nexport const Power =()=> (\r\n    <Hel>\r\n    </Hel>\r\n)\r\n","import React from 'react'\r\nimport {C, H, O, CH3, Mol, Poly} from '../src'\r\nexport const H2O =()=> <H><O><H/></O></H>\r\nexport const CH4 =()=> <C><H/><H/><H/><H/></C>\r\nexport const CH3OH =()=>\r\n    <H>\r\n        <O angle={Math.PI}>\r\n            <C><H/><H/><H/></C>\r\n        </O>\r\n    </H>\r\nexport const CH3COOH =()=>\r\n    <C>\r\n        <C><H/><H/><H/></C>\r\n        <O><H/></O>\r\n        <O double/>\r\n    </C>\r\nexport const Polyethylene =()=>\r\n    <H>\r\n        <Poly n={2}>\r\n        {children =>\r\n            <C angle={Math.PI}>\r\n                <C>\r\n                    {children||<H/>}\r\n                    <H/><H/>\r\n                </C>\r\n                <H/><H/>\r\n            </C>\r\n        }\r\n        </Poly>\r\n    </H>\r\nexport const Polypropylene =()=>\r\n    <H>\r\n        <Poly n={2}>\r\n        {(children, i) =>\r\n            <C angle={Math.PI}>\r\n                <C>\r\n                    {children||<H/>}\r\n                    <CH3 angle={i%2*Math.PI}/>\r\n                    <H/>\r\n                </C>\r\n                <H/><H/>\r\n            </C>\r\n        }\r\n        </Poly>\r\n    </H>\r\nexport const Random =({rand=(mul=Math.PI*2)=>Math.random()*mul})=>\r\n    <H>\r\n        <Poly n={100}>\r\n        {children =>\r\n            <C angle={rand()}>\r\n                <C angle={rand()}>\r\n                    {children||<H/>}\r\n                    <H/>\r\n                    <C><H/><H/><H/></C>\r\n                </C>\r\n                <H/><H/>\r\n            </C>\r\n        }\r\n        </Poly>\r\n    </H>\r\nexport const H2O2 =()=> <Mol recursion><H/><O/><H/></Mol>\r\nexport const CH42 =()=> <Mol recursion><H/><C><H/><H/><H/></C></Mol>\r\nexport const CH3OH2 =()=>\r\n    <Mol recursion>\r\n        <C><H/><H/><H/></C>\r\n        <O><H/></O>\r\n    </Mol>\r\nexport const CH3COOH2 =()=>\r\n    <Mol recursion>\r\n        <C><H/><H/><H/></C>\r\n        <C><O double/></C>\r\n        <O><H/></O>\r\n    </Mol>\r\nexport const Polyethylene2 =()=>\r\n    <Mol recursion>\r\n        <H/>\r\n        {Array(6).fill(0).map((_, i) =>\r\n            <C key={i} angle={(i%2)?Math.PI:0}>\r\n                <H/><H/>\r\n            </C>\r\n        )}\r\n        <H/>\r\n    </Mol>\r\nexport const Polypropylene2 =()=>\r\n    <Mol recursion>\r\n        <H/>\r\n        {Array(6).fill(0).map((_, i) =>\r\n            <C key={i} angle={(i%2)?Math.PI:0}>\r\n                {(i%2)\r\n                    ? <CH3 angle={(i%4)?Math.PI:0}/>\r\n                    : <H/>\r\n                }\r\n                <H/>\r\n            </C>\r\n        )}\r\n        <H/>\r\n    </Mol>\r\n\r\nexport const Random2 =({rand=(mul=Math.PI*2)=>Math.random()*mul})=>\r\n    <Mol recursion>\r\n        <H/>\r\n        {Array(200).fill(0).map((_, i) =>\r\n            <C key={i} angle={rand()}>\r\n                {(i%2)\r\n                    ? <CH3 angle={rand()}/>\r\n                    : <H/>\r\n                }\r\n                <H/>\r\n            </C>\r\n        )}\r\n        <H/>\r\n    </Mol>\r\n","import React, {useRef, useMemo} from 'react'\r\nimport {Render, Flow, Vec3} from '../src'\r\nimport niceColors from 'nice-color-palettes'\r\nimport {useFrame} from 'react-three-fiber'\r\nimport {useMove} from 'react-use-gesture'\r\n// utils\r\nconst {sin,cos,max} = Math\r\nconst rand=(m=1,a=0)=>m*Math.random()+a\r\n\r\nexport const Points =({count:c=50})=> {\r\n    const colors = useMemo(() => new Array(c**2).fill(0).map(() =>\r\n        niceColors[17][Math.floor(Math.random()*5)]\r\n    ), [c])\r\n    return (\r\n        <Render position={[-c/4,-1,-c/4]} max={2500}>\r\n            <sphereBufferGeometry attach=\"geometry\" args={[1,32,32]}/>\r\n            <meshPhongMaterial    attach=\"material\" />\r\n            {Array(c**2).fill(0).map((_,i) =>\r\n                <Flow key={i}\r\n                    args={(t,x,_,z) => [sin((x+t)/3)+sin((z+t)/2)]}\r\n                    position={r=>[i%c,r,i/c%c]}\r\n                    scale={r=>[r/3,r/3,r/3]}\r\n                    color={colors[i]}/>\r\n            )}\r\n        </Render>\r\n    )\r\n}\r\nexport const Boxes =()=> {\r\n    const ref = useRef<any>(null)\r\n    const now = useRef<number>(0)\r\n    const colors = useMemo(() => new Array(1000).fill(0).map(() =>\r\n        niceColors[17][~~(Math.random()*5)]\r\n    ), [])\r\n    useFrame((_, delta) => {\r\n        ref.current.rotation.x = Math.sin(now.current / 4)\r\n        ref.current.rotation.y = Math.sin(now.current / 2)\r\n        now.current += delta\r\n    })\r\n    return (\r\n        <Render ref={ref} max={10**3}>\r\n            <boxBufferGeometry attach=\"geometry\" />\r\n            <meshPhongMaterial attach=\"material\" />\r\n            {Array(1000).fill(0).map((_,i) =>\r\n                <Flow key={i}\r\n                    args={(t,x,y,z) => [sin(x/4+t) +sin(y/4+t)+sin(z/4+t)]}\r\n                    position={[i%10-5,i/10%10-5,i/100-5]}\r\n                    rotation={r=>[0,r*2,r*3]}\r\n                    scale={r=>[r/4,r/4,r/4]}\r\n                    color={colors[i]}/>\r\n            )}\r\n        </Render>\r\n    )\r\n}\r\nexport const Spheres =({count:c=1000}: any) => {\r\n    const xy = useRef<{x: number, y: number}>({x:0, y:0})\r\n    useMove(({xy: [x, y]}) => {\r\n        xy.current = {x, y}\r\n        console.log(xy.current)\r\n    }, {domTarget: window})\r\n    const colors = useMemo(() => [...Array(c)].map(() =>\r\n        niceColors[17][~~rand(5)]\r\n    ), [c])\r\n    return (\r\n        <Render max={c}>\r\n            <sphereBufferGeometry attach=\"geometry\" args={[1, 32, 32]} />\r\n            <meshPhongMaterial    attach=\"material\" color={0xffffff} />\r\n            {Array(c).fill(0).map((_, i) =>\r\n                <Flow key={i}\r\n                    args={[rand(2, 1),...[...Array(3)].map(_=>rand(40, -20))]}\r\n                    position={(t,s,x,y,z)=>[\r\n                        x + cos(t*s) + sin(t*s*1),\r\n                        y + sin(t*s) + cos(t*s*2),\r\n                        z + cos(t*s) + sin(t*s*3),\r\n                    ]}\r\n                    scale={(t,s)=>Array(3).fill(max(.3, cos((t+s*10)*s))*s) as Vec3}\r\n                    color={colors[i]}/>\r\n            )}\r\n        </Render>\r\n    )\r\n}\r\nexport const Particles =({count:c=1000}) => {\r\n    const colors = useMemo(() => [...Array(c)].map(() =>\r\n        niceColors[17][~~rand(5)]\r\n    ), [c])\r\n    return (\r\n        <Render max={c}>\r\n            <dodecahedronBufferGeometry args={[0.2, 0]} />\r\n            <meshPhongMaterial />\r\n            {Array(c).fill(0).map((_, i) =>\r\n                <Flow key={i}\r\n                    args={[\r\n                        rand( .1, .1),  // s: .01 ~ .02\r\n                        rand(100, 20),  // f:  20 ~ 120\r\n                        rand(100,-50),  // x: -50 ~ 50\r\n                        rand(100,-50),  // y: -50 ~ 50\r\n                        rand(100,-50),]}// z: -50 ~ 50\r\n                    position={(t,s,f,x,y,z) => [\r\n                        x + cos((t*s)*f) + sin(t*s*10)*f/10,\r\n                        y + sin((t*s)*f) + cos(t*s*20)*f/10,\r\n                        z + cos((t*s)*f) + sin(t*s*30)*f/10,]}\r\n                    scale={t => Array(3).fill(Math.cos(t)) as Vec3}\r\n                    color={colors[i]}/>\r\n            )}\r\n        </Render>\r\n    )\r\n}\r\nexport const Dodecas =({count:c=1000,size=5}: any) => {\r\n    const colors = useMemo(() => [...Array(c)].map(() =>\r\n        niceColors[17][~~rand(5)]\r\n    ), [c])\r\n    return (\r\n        <Render max={c}>\r\n            <dodecahedronBufferGeometry args={[1,0]} />\r\n            <meshStandardMaterial />\r\n            {Array(c).fill(0).map((_,i) =>\r\n                <Flow key={i}\r\n                    args={[\r\n                        rand(.01,.01),  // s: .01 ~ .02\r\n                        rand(100, 20),  // f:  20 ~ 120\r\n                        rand(100,-50),  // x: -50 ~ 50\r\n                        rand(100,-50),  // y: -50 ~ 50\r\n                        rand(100,-50),]}// z: -50 ~ 50\r\n                    position={(t,s,f,x,y,z) => [\r\n                        x + cos((t+1)*s*50)*f + sin(t*s*1)*f/10,\r\n                        y + sin((t+2)*s*50)*f + cos(t*s*2)*f/10,\r\n                        z + cos((t+3)*s*50)*f + sin(t*s*3)*f/10\r\n                    ]}\r\n                    rotation={(t,s)=>Array(3).fill(cos(t*s*10)*size) as Vec3}\r\n                    scale={(t,s)=>Array(3).fill(cos(t*s*50)*size) as Vec3}\r\n                    color={colors[i]}/>\r\n            )}\r\n        </Render>\r\n    )\r\n}\r\n","import React from 'react'\r\nexport const Plant =()=> {\r\n    return (\r\n        <group />\r\n    )\r\n}\r\n","import React from 'react'\r\nimport {Canvas} from 'react-three-fiber'\r\nimport {OrbitControls} from 'drei'\r\nimport {Helmet} from 'react-helmet-async';\r\nimport * as MOL from './Mol'\r\nimport * as HEL from './Hel'\r\nimport * as FLOW from './Flow'\r\nimport * as PLANT from './Plant'\r\nconst Link =({path=\"\",name=\"\"})=> (\r\n    <div onClick={() => void (window.location.href = \"/rmol/\"+path+name)}>{name}</div>\r\n)\r\nconst Button =({loc=\"\",alt=\"\",src=\"\"})=> (\r\n    <a href={(src?\"https://\":\"\")+loc}>\r\n        <img alt={alt} src={\"https://\"+(\r\n            src||`img.shields.io/badge/${alt}-gray.svg`\r\n        )}/>\r\n    </a>\r\n)\r\nconst TWEET = \"ðŸ¡A molecular chemistry based simulation library\"\r\nconst INDEX: any = {\r\n    m: Object.keys(MOL).map(key => <Link key={key} name={key} path=\"m/\" />),\r\n    h: Object.keys(HEL).map(key => <Link key={key} name={key} path=\"h/\" />),\r\n    f: Object.keys(FLOW).map(key => <Link key={key} name={key} path=\"f/\" />),\r\n    p: Object.keys(PLANT).map(key => <Link key={key} name={key} path=\"p/\" />),\r\n}\r\nexport const App: React.FC = ({children}) => {\r\n    const paths = window.location.pathname.split('/').filter(v=>v)\r\n    return (\r\n        <>\r\n            <Canvas\r\n                style={{position:\"absolute\", width:'100%', height: '100%', top:0, left:0, zIndex:-1}}\r\n                pixelRatio={window.devicePixelRatio}\r\n                onCreated={({ gl }) => gl.setClearColor('lightpink')}\r\n                gl={{ alpha: true, antialias: false, logarithmicDepthBuffer: true }}\r\n                camera={{ fov: 75, position: [0, 0, 5] }}>\r\n                <ambientLight intensity={.3} />\r\n                <pointLight position={[ 100, 100, 100]} intensity={2.2} />\r\n                <pointLight position={[-100,-100,-100]} intensity={5} color=\"pink\" />\r\n                <OrbitControls />\r\n                {children}\r\n            </Canvas>\r\n            {/**/\r\n            <div style={{position:\"absolute\", userSelect:\"none\",fontSize:\"1.5rem\", display:\"inline-block\"}}>\r\n                {INDEX[paths[1]] || INDEX.f}\r\n                <Button loc=\"/rmol/m/\" alt=\"Mol\" />\r\n                <Button loc=\"/rmol/h/\" alt=\"Hel\" />\r\n                <Button loc=\"/rmol/f/\" alt=\"Flow\" />\r\n                <Button loc=\"/rmol/s/\" alt=\"Sign\" />\r\n                <Button loc=\"/rmol/p/\" alt=\"Plant\" /><br/>\r\n                <Button loc=\"github.com/tseijp/react-mol\"     alt=\"license MIT\"/>\r\n                <Button loc=\"www.npmjs.com/package/react-mol\" alt=\"npm version\"\r\n                        src=\"badge.fury.io/js/react-mol.svg\"  /><br/>\r\n                <Button loc={`twitter.com/intent/tweet?url=https=//tsei.jp/rmol/&text=${TWEET}`} alt=\"Tweet\"\r\n                        src=\"img.shields.io/twitter/url?style=social&url=https%3A%2F%2Ftwitter.com%2Ftseijp\"/>\r\n                <Button loc=\"github.com/tseijp/react-mol\" alt=\"GitHub watchers\"\r\n                        src=\"img.shields.io/github/watchers/tseijp/react-mol?style=social\" /><br/>\r\n            </div>\r\n            /**/}\r\n            <Helmet>\r\n                <title>{window.location.pathname.split('/').slice(-1)[0]}</title>\r\n                <meta charSet=\"utf-8\" />\r\n                <meta name=\"Hatena::Bookmark\" content=\"nocomment\" />\r\n                <link rel=\"canonical\" href=\"https://tsei.jp/\" />\r\n            </Helmet>\r\n        </>\r\n    )\r\n}\r\n","import React from 'react'\r\n// import {useFrame} from 'react-three-fiber'\r\nimport {Atom, Poly} from '../src'\r\nexport function Basic () {\r\n    const ref = React.useRef<any>(null)\r\n    // useFrame(() => {\r\n    //     ref.current.rotation.x  =\r\n    //     ref.current.rotation.y  =\r\n    //     ref.current.rotation.z += 0.025\r\n    // })\r\n    return (\r\n        <Atom color=\"red\"\r\n            position={[1, -2, -10]}\r\n            rotation={[0,  0,  Math.PI/3]}>\r\n            <boxBufferGeometry attach=\"geometry\" />\r\n            <meshPhongMaterial attach=\"material\" />\r\n            <Poly n={10}>\r\n                {next =>\r\n                <Atom  color=\"green\"\r\n                    position={[2, 0, 1]}\r\n                    rotation={[0, 0, Math.PI/3]}>\r\n                    {next ||\r\n                    <Atom ref={ref}\r\n                        color=\"blue\"\r\n                        position={[2,0,0]}/>\r\n                    }\r\n                </Atom>\r\n                }\r\n                </Poly>\r\n      </Atom>\r\n    )\r\n    // TODO Recursion\r\n    // return (\r\n    //     <Atom recursion>\r\n    //         <boxBufferGeometry attach=\"geometry\" />\r\n    //         <meshPhongMaterial attach=\"material\" />\r\n    //         <Atom  color=\"red\"\r\n    //             position={[1, -2, -10]}\r\n    //             rotation={[0,  0,  Math.PI/3]}/>\r\n    //         {Array(10).fill(0).map((_, i) =>\r\n    //             <Atom key={i} color=\"green\"\r\n    //                 position={[2, 0, 1]}\r\n    //                 rotation={[0, 0, Math.PI/3]}/>\r\n    //         )}\r\n    //         <Atom ref={ref} color=\"blue\" position={[2,0,0]}/>\r\n    //   </Atom>\r\n    // )\r\n}\r\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport {unregister}  from './utils'\nimport {HelmetProvider} from 'react-helmet-async'\nimport {BrowserRouter, Route, Redirect, Switch} from 'react-router-dom'\nimport * as HEL from './Hel'\nimport * as Mol from './Mol'\nimport * as FLOW from './Flow'\n// import * as PLANT from './Plant'\n\nimport {App} from './App'\nimport {Basic} from './Basic'\nconst About =()=> <></>\n\nconst Root  =()=> (\n    <HelmetProvider>\n        <BrowserRouter>\n            <Switch>\n                {Object.entries(Mol).map(([k, V]) =>\n                <Route path={\"/rmol/m/\"+k}   component={()=><App><V/></App>} key={k}/> )}\n                {Object.entries(HEL).map(([k, V]) =>\n                <Route path={\"/rmol/h/\"+k} component={()=><App><V/></App>} key={k}/> )}\n                {Object.entries(FLOW).map(([k, V]) =>\n                <Route path={\"/rmol/f/\"+k} component={()=><App><V/></App>} key={k}/> )}\n                <Route path=\"/rmol/\"       component={()=><App><Basic/></App>} exact/>\n                <Route path=\"/rmol/m/\"     component={()=><App><Mol.Random/></App>} exact/>\n                <Route path=\"/rmol/h/\"     component={()=><App><HEL.Archimedes/></App>} exact/>\n                <Route path=\"/rmol/f/\"     component={()=><App><FLOW.Points/></App>} exact/>\n                <Route path=\"/rmol/about\"  component={()=><App><About/></App>} exact/>\n                <Route path=\"/rmol/basic\"  component={()=><App><Basic/></App>} exact/>\n                <Redirect to='/rmol/' />\n            </Switch>\n        </BrowserRouter>\n    </HelmetProvider>\n)\n\nReactDOM.render(<Root/>, document.getElementById('root'));\nunregister();\n","import React, {Children, useContext, useMemo, useRef, useState} from 'react'\r\nimport {Render, render} from './Render'\r\nimport {Props, States} from './types'\r\nimport * as THREE from 'three'\r\n\r\nlet uuid = 0\r\nexport type Hierarchy = {\r\n    <T extends object={}>(props: unknown & Partial<Props<T>>): null | JSX.Element\r\n}\r\nexport const Hierarchy: Hierarchy = React.forwardRef(({\r\n    children, calc=((p: any)=>p), ...props\r\n}:any, ref) => {\r\n    const {states} = useContext<States>(render)\r\n    const [index] = useState(() => uuid++)\r\n    const depth = useMemo(() => (props.depth||0)+1, [props.depth])\r\n    // const state = useMemo(() => calc({...props, calc, depth}), [calc, props, depth])\r\n    const color = useRef<any>(new THREE.Color().set(props.color||\"black\"))\r\n    const group = useRef<any>(null)\r\n    React.useEffect(() => {\r\n        group.current.updateMatrixWorld()\r\n        states.current[index] = {\r\n            group: group.current,\r\n            color: color.current\r\n        }// return () => void (delete states.current[index])\r\n    }, [states, index])\r\n    React.useImperativeHandle(ref, () => ({\r\n        position: group.current.position,\r\n        rotation: group.current.rotation,\r\n        scale   : group.current.scale,\r\n        color   : color.current\r\n    }))\r\n    return (\r\n        <group ref={group} {...props}>\r\n            {children && typeof children[0]===\"function\"\r\n                ? children[0]({...props, depth, state:props, children:null})\r\n                : React.Children.map(children, (child: any, key) =>\r\n                    child && React.cloneElement(child, {\r\n                        //âš  crash if children isnt assigned null âš \r\n                        ...props, state:props, children:null, depth,\r\n                        ...child.props, index: key\r\n                })\r\n            )}\r\n        </group>\r\n    )\r\n})\r\nexport const Recursion = (props:any) => {\r\n    const [child, ...children] = Children.map(props.children, c=>c)\r\n    if (typeof child!==\"object\") return null\r\n    const grandren = Children.map(child.props.children, c=>c)\r\n    console.log(child, children)\r\n    return React.cloneElement(child, {\r\n        ...props, depth: 1, recursion: false, children: [\r\n            ...(grandren || []),//.slice(props.length) // ???\r\n            children.length && <Recursion key={-1} {...{children}}/>\r\n        ]\r\n    })\r\n}\r\nexport type Atom = {\r\n    <T extends object={}>(props: unknown & Partial<Props<T>>): null | JSX.Element;\r\n}\r\nexport const Atom: Atom = React.forwardRef(({\r\n    geometry=null, cut=2,\r\n    material=null, max=1000,\r\n    children=null, depth=0,\r\n    ...props\r\n}: any, ref) => {\r\n    if (typeof children===\"function\") children = [children]\r\n    if (!(children instanceof Array)) children = Children.map(children, c=>c)\r\n    if (!geometry &&  material) cut /= 2\r\n    if ( geometry &&  material) cut  = 0\r\n    if ( geometry && !material) cut /= 2\r\n    const Atom = props.recursion? Recursion : Hierarchy\r\n    if (depth)\r\n        return <Atom ref={ref} {...props}>{children?.slice(cut)}</Atom>\r\n    return (\r\n        <Render {...{geometry, material, cut, max}}>\r\n            {[...children.slice(0, cut),\r\n            <Atom ref={ref} {...props} key={0}\r\n                calc    = {props.calc || ((p:any)=>p)}\r\n                position= {props.position || [0,0,0]}>\r\n                {children.slice(cut)}\r\n            </Atom>]}\r\n        </Render>\r\n    )\r\n})\r\n","import * as THREE from 'three'\r\nimport {Vec3} from './types'\r\nimport {BufferGeometryUtils} from 'three/examples/jsm/utils/BufferGeometryUtils.js';\r\n\r\nconst base = new THREE.Vector3(0,1,0)\r\nconst axis = new THREE.Vector3()\r\nconst vec3 = new THREE.Vector3()\r\nconst euler= new THREE.Euler()\r\nconst quat1= new THREE.Quaternion()\r\n// const quat2= new THREE.Quaternion()\r\n\r\nexport function mergeVec3(rate:number[], ...vec:Vec3[]): Vec3 {\r\n    return [0,1,2].map(j => rate.map((r,i) => r*vec[i][j]).reduce((a,b) => a+b)) as Vec3\r\n}\r\nexport function scaleVec3(vec:Vec3=[0,0,0]): Vec3 {\r\n    return [1, vec3.set(...vec).length(), 1] as Vec3\r\n}\r\nexport function eulerVec3(_axis:Vec3=[1,0,0],_base:Vec3=[0,1,0]): Vec3 {\r\n    axis.set(..._axis).normalize()\r\n    base.set(..._base).normalize()\r\n    quat1.setFromUnitVectors(base, axis);\r\n    euler.setFromQuaternion(quat1)\r\n    return euler.toArray().slice(0,3) as Vec3\r\n}\r\nexport function mergedGeometry () {\r\n    const arr = new THREE.Matrix4().makeTranslation(0,-1/2,0)\r\n    const sph = new THREE.SphereBufferGeometry(.3, 32, 32)\r\n    const cyl = new THREE.CylinderBufferGeometry(.1,.1,1,10)\r\n    cyl.applyMatrix4(arr);\r\n    return BufferGeometryUtils.mergeBufferGeometries([cyl, sph])\r\n}\r\n// export function calcRelative (position:Vec3=[0,0,0], rotation:Vec3=[0,0,0], distance:Vec3=[0,1,0]) {\r\n//     base.set(0,1,0)\r\n//     axis.set (...distance).normalize() // TODO use group.updateMatrix()\r\n//     euler.set(...rotation)\r\n//     quat1.setFromUnitVectors(base, axis)\r\n//     quat2.setFromEuler(euler)\r\n//     return  vec3.set(...position)\r\n//                 .normalize()\r\n//                 .applyQuaternion(quat1.multiply(quat2))\r\n//                 .setLength(1)\r\n//                 .toArray() as Vec3\r\n// }\r\n// TODO use parent: CH3OH = (H)-(O)-(CH3)\r\n// - now  calcAtom: (H: parent)-(O: me)-(CH3: calc child): using O and CH3\r\n// - next calcAtom: (H: parent)-(O: calc me)-(CH3: not using child): using H and O\r\n","import React, {Children, useRef, useMemo} from 'react'\r\nimport {Props, State, States} from './types'\r\nimport {useFrame} from 'react-three-fiber'\r\nexport const render = React.createContext<States>(null as any)\r\nexport type  Render = {\r\n    <T extends object={}>(props: Partial<Props<T>>) : JSX.Element;\r\n}\r\nexport const Render = React.forwardRef(({\r\n    geometry=null, cut=2,\r\n    material=null, max=1000,\r\n    children=null, ...props\r\n}: any, forwardRef) => {\r\n    if (!(children instanceof Array)) children = Children.map(children, c=>c)\r\n    if (typeof geometry===\"function\") geometry = geometry()\r\n    if (typeof material===\"function\") material = material()\r\n    const mesh  = useRef<any>(null)\r\n    const group = useRef<any>(null)\r\n    const states= useRef<State[]>([])\r\n    const value = useMemo<States>(() => ({states}), [])\r\n    useFrame(() => {\r\n        Object.values(states.current).forEach((state: any, i) => {\r\n            mesh.current.setColorAt (i, state.color)\r\n            mesh.current.setMatrixAt(i, state.group.matrixWorld)\r\n        })\r\n        mesh.current.instanceMatrix.needsUpdate = true\r\n    })\r\n    React.useImperativeHandle(forwardRef, () => group.current)\r\n    return (\r\n        <render.Provider value={value}>\r\n            <group ref={group} {...props}>\r\n                <instancedMesh ref={mesh} args={[geometry,material,max] as [any,any,number]}>\r\n                    {children?.slice(0, cut)}\r\n                </instancedMesh>\r\n                {children?.slice(cut)}\r\n            </group>\r\n        </render.Provider>\r\n    )\r\n}\r\n)\r\n","import React, {useMemo} from 'react'\r\n// import * as THREE from 'three'\r\nimport {useFrame} from 'react-three-fiber'\r\nimport {Vec3, Props, MolProps, HelProps, FlowProps} from './types'\r\nimport {mergedGeometry} from './utils'\r\nimport {Atom} from './Atom'\r\nimport {eulerVec3, mergeVec3} from './utils'\r\ntype MP = Partial<Props<MolProps>>\r\ntype FP = Partial<Props<FlowProps>>\r\nconst sin = Math.sin\r\nconst rad = Math.sqrt(2)*2/3\r\n//  ************************* REACT-MOL ************************* //\r\nexport {Atom as default, Atom, Hierarchy, Recursion} from './Atom'\r\nexport {Render} from './Render'\r\nexport * from './utils'\r\nexport * from './types'\r\n// Mol\r\nexport const H =(p:MP)=> <Mol {...p} element={1} color=\"white\"/>\r\nexport const C =(p:MP)=> <Mol {...p} element={6} color=\"black\"/>\r\nexport const O =(p:MP)=> <Mol {...p} element={8} color=\"red\"/>\r\nexport const OH =(p:MP)=> <O {...p}><H/></O>\r\nexport const CO =(p:MP)=> <C {...p}><O double/></C>\r\nexport const CH =(p:MP)=> <C {...p}><H/></C>\r\nexport const CH2 =(p:MP)=> <C {...p}><H/><H/></C>\r\nexport const CH3 =(p:MP)=> <C {...p}><H/><H/><H/></C>\r\n// Flow\r\nexport const Sin =(p:FP)=> <Flow {...p} args={(x,_,z,t) => [sin((x+t)/3)+sin((z+t)/2)]} />\r\nexport const Box =(p:FP)=> <Flow {...p} args={(x,y,z,t) => [sin(x/4+t) +sin(y/4+t)+sin(z/4+t)]} />\r\n\r\n//  *************************          ************************* //\r\n//  ************************* <Poly /> ************************* //\r\n//  *************************          ************************* //\r\nexport function Poly <T extends object={}>(\r\n    props: Partial<Props<T>> & Partial<{\r\n        n: number, children: null|((child:JSX.Element, key:number) => JSX.Element),\r\n    }>\r\n): null|JSX.Element\r\nexport function Poly ({children,n=0,...props}: any) {\r\n    if (n<0) return null\r\n    const child = children(n>0 && <Poly n={n-1} children={children}/>, n)\r\n    return React.cloneElement(child, {...props, children:null, ...child.props})\r\n}\r\n//  *************************         ************************* //\r\n//  ************************* <Mol /> ************************* //\r\n//  *************************         ************************* //\r\nexport function Mol (props: MP): null | JSX.Element\r\nexport function Mol ({position, rotation, distance, ...props}: any) {\r\n    const pos = useMemo<Vec3>(() => {\r\n        const phi = props.index* Math.PI* 2/3 + (props.angle || 0)\r\n        const vec = [rad*Math.cos(phi), 1/3, rad*Math.sin(phi)] as Vec3\r\n        return props.index<3? vec: [0,-1,0]\r\n    }, [props.index, props.angle])\r\n    console.log(props.index)\r\n    const dis = useMemo(() => mergeVec3([-1,1], position||[rad,1/3,0], pos), [position, pos])\r\n    const rot = useMemo(() => eulerVec3(dis, distance||[0,1,0]), [distance, dis])\r\n    return (\r\n        <Atom<MolProps>\r\n            {...props} geometry={mergedGeometry}\r\n            {...{position: pos, rotation: rot, distance: dis}}>\r\n            <meshPhongMaterial attach=\"material\"/>\r\n            {props.children}\r\n        </Atom>\r\n    )\r\n}\r\n//  *************************         ************************* //\r\n//  ************************* <Hel /> ************************* //\r\n//  *************************         ************************* //\r\nexport type Hel = {\r\n    (props: Partial<Props<HelProps>>): null | JSX.Element;\r\n}\r\nexport const  Hel: Hel = (props: any) =>  {\r\n    return (\r\n        <Atom<HelProps> {...props}>\r\n            <boxBufferGeometry attach=\"geometry\" args={[1,1,1]} />\r\n            <meshPhongMaterial attach=\"material\" />\r\n            {props.children}\r\n        </Atom>\r\n    )\r\n}\r\n//  *************************         ************************* //\r\n//  ************************* <Flow /> ************************* //\r\n//  *************************         ************************* //\r\nexport function Flow (props: Partial<Props<FlowProps>>): null | JSX.Element\r\nexport function Flow (props: any) {\r\n    const ref = React.useRef<any>(null)\r\n    const now = React.useRef<number>(0)\r\n    const fun = (value: any): value is Function => typeof value===\"function\"\r\n    useFrame((_, delta) => {\r\n        now.current += delta\r\n        const {args:a, position:p, rotation:r, scale:s, color:c} = props\r\n        const args = fun(a)\r\n            ? a(now.current, ...ref.current.position.toArray())\r\n            : [ now.current, ...(a || []) ]\r\n        fun(p) && ref.current.position.set(...p(...args))\r\n        fun(r) && ref.current.rotation.set(...r(...args))\r\n        fun(s) && ref.current.scale.set(...s(...args))\r\n        fun(c) && ref.current.scale.set(...c(...args))\r\n    })\r\n    return <Atom<FlowProps> {...props} ref={ref} depth={1}/>\r\n}\r\n// TODO functional Props for Poly\r\n// export function Poly <T extends object={}>(\r\n//     props: Partial<Props<T> & {\r\n//         n: number,\r\n//     children: null | ((\r\n//         next: ((nextProps?:Partial<Props<T>>) => JSX.Element),\r\n//         key : number\r\n//     ) => JSX.Element),\r\n//     }>\r\n// ): null|JSX.Element\r\n// export function Poly ({children,n=0,...props}: any) {\r\n//     if (n<0) return null\r\n//     const child = children(n>0 && ((nextProps: any={}) => {\r\n//         return <Poly n={n-1} {...nextProps} children={children}/>\r\n//     }), n)\r\n//     return React.cloneElement(child, {...props, children: null,...child.props})\r\n// }\r\n// TODO CalcPos for Mol\r\n// export function calcPos (target:Props<MolProps>, parent:Props<MolProps>, key=0): Vec3 {\r\n//     const phi = key* Math.PI* 2/3 + (parent.angle || 0)\r\n//     const vec = [sqrt2_3*Math.cos(phi), sqrt1_3, sqrt2_3*Math.sin(phi)]\r\n//     return mergeVec3(Array(4).fill(1),\r\n//         calcRelative((key<3? vec: [0,-1,0]) as Vec3, target.rotation, parent.direction),\r\n//         parent.position || [0,0,0],\r\n//         target.position || [0,0,0],\r\n//         target.double\r\n//             ? calcPos({...target,double:false}, parent,key+(key?2:3))\r\n//             : [0,0,0]\r\n//     )\r\n// }\r\n// export const calcMol = ({children, ...props}:Props<MolProps>): Props<MolProps> => {\r\n//     const {position: target=[0,0,0], state} = props\r\n//     const position = mergeVec3([.5,.5], target, state?.position||[0,-1,0])\r\n//     const distance = mergeVec3([ 1,-1], target, state?.position||[0,-1,0])\r\n//     const rotation = eulerVec3(distance)\r\n//     const clone    = React.Children.map(children, (child:any, key) => {\r\n//         if (!child) return null\r\n//         const phi = key* Math.PI* 2/3 + (props.angle || 0)\r\n//         const vec = [sqrt2_3*Math.cos(phi), sqrt1_3, sqrt2_3*Math.sin(phi)]\r\n//         const position = (key<3? vec: [0,-1,0]) as Vec3\r\n//         return React.cloneElement(child, {position})\r\n//     })\r\n//     return {...props, children: clone, position, rotation, scale: [1,1,1]}\r\n// }\r\n"],"sourceRoot":""}