---
sidebar_position: 3
sidebar_label: Particles
---

import {Demo} from '../../components/Demo'
import {Instanced, Flow} from 'react-mol'
import niceColors from 'nice-color-palettes'
import {useFrame} from '@react-three/fiber'

export const scope = {Instanced, Flow, niceColors, useFrame}


<Demo noInline
  {...scope}
  colors={[...Array(1000)].map(() =>
    niceColors[17][~~Math.random(5)]
  )}
>
{`render (
  <Canvas>
    <Instanced count={1000}>
      <dodecahedronGeometry args={[0.2, 0]} />
      <meshPhongMaterial />
      {Array(1000).fill(0).map((_, i) =>
        <Flow key={i} color={colors[i]}
          args={[...Array(5)].map(() => Math.random(100,-50))}
          position={(t,s,f,x,y,z) => [
            x + cos(t*s*f/50) + sin(t*s/50)*f/10,
            y + sin(t*s*f/50) + cos(t*s/50)*f/10,
            z + cos(t*s*f/50) + sin(t*s/50)*f/10,]}
          scale={t => Array(3).fill(Math.cos(t))}/>
      )}
    </Instanced>
  </Canvas>
)`}
</Demo>
